<!DOCTYPE html>
<html >
	<head>
		<title>Piikkilista (dev)</title>
		<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js" type="text/javascript"></script>
		<script src="source/jquery.fancybox.pack.js?v=2.1.0"></script>
		<link rel="stylesheet" href="source/jquery.fancybox.css?v=2.1.0" type="text/css" media="screen" />
		<style>
			
		</style>
		<script type="text/javascript">
			$(document).ready(function() {
				var loginContainer = $('.login');
				//setup fancybox
				console.log('loading ready');
				$('.fancybox').fancybox({
					afterClose: function() {
						var loggedUser = $.data(loginContainer,'user');
						console.log(loggedUser); 
						$('.loggedUser').html('Moi '+loggedUser);
					}
				});
				
				//force user selection
				
				if( $.data(loginContainer,'user') == undefined ) $('.fancybox').click();
				
				//read user selection
				$('.user').click(function(){
					console.log($(this).attr('name'));
					$.data(loginContainer,'user',$(this).attr('name'));
					$.fancybox.close();
				});
				
			});
		</script> 
	</head>
	<body>

    <div id="login" style="display: none;">
		<h1>Valitse piikki</h1>
		<section name="login">
			<button type="button" class="user" name="testi">testi</button>
			<button type="button" class="user" name="oldskool">oldskool</button>
			<button type="button" class="user" name="stream.ry">stream.ry</button>
		</section>
    </div>

		<header>
			<h1>Piikkilista</h1>
			<p class="loggedUser"></p>
			<button type="button" href="#login" class="fancybox">Vaihda piikki√§</button>
		</header>
		<section name="store">
			<article>
				<h2>juomat1</h2>
				<p>
					<button type="button" class="product cat1" name="tuote1">tuote1</button>
					<button type="button" class="product cat1" name="tuote2">tuote2</button>
					<button type="button" class="product cat1" name="tuote3">tuote3</button>
				</p>
			</article>
			<article>
				<h2>juomat2</h2>
				<p>
					<button type="button" class="product cat2" name="tuote1">tuote1</button>
					<button type="button" class="product cat2" name="tuote2">tuote2</button>
					<button type="button" class="product cat2" name="tuote3">tuote3</button>
				</p>
			</article>
						
		</section>
		<aside name="stats">
			<article>
				<h2>Stats</h2>
				<p>
					testidataa
				</p>
			</article>
		</aside>
		<footer>
			
		</footer>
	</body>
</html>